import{d as R,_ as x,f as l,z as ne,A as w,a4 as oe,o as d,c as m,M as se,n as u,y as i,t as B,F as ae,a5 as re,a6 as O,u as U,v as ce,w as L,k as G,l as le,a7 as ie,i as _,a8 as de,r as h,B as ue,E as $,T as A,a9 as M,aa as F,a0 as pe,L as D,ab as me,m as fe,ac as ve,ad as _e,ae as he,af as ge,ag as ye,ah as Ce,ai as we,aj as xe,ak as be,al as ke,am as $e,an as Ae,I as Ee}from"./chunks/framework.18ddace7.js";import{u as Be,a as De,t as V}from"./chunks/theme.4f0495f4.js";let Te=0;function Re(){return"message_"+Te++}const Se=R({setup(){const e=l([]);function t(n){const r=Re(),a={name:r,...n};e.value.push(a);const s=n.duration;setTimeout(()=>{o(r)},s*1e3)}function o(n){for(const[r,a]of e.value.entries())if(a.name===n){e.value.splice(r,1);break}}return{messages:e,add:t,remove:o}}}),He={class:"demoblock-message-content"};function Pe(e,t,o,n,r,a){return d(),ne(oe,{name:"demoblock-fade",tag:"div",class:"demoblock-message-wrap"},{default:w(()=>[(d(!0),m(ae,null,se(e.messages,s=>(d(),m("div",{key:s.name,class:u(["demoblock-message",s.type?`demoblock-message-${s.type}`:""])},[i("div",He,B(s.content),1)],2))),128))]),_:1})}const T=x(Se,[["render",Pe],["__scopeId","data-v-113231ea"]]);T.newInstance=(e={})=>{const t=document.createElement("div"),r=re({render(){return O(T,{...e,ref:"messageRef"})}}).mount(t).$refs.messageRef;return document.body.appendChild(t.firstElementChild),{add(a){r.add(a)},remove(a){r.remove(a)}}};let E;function Ie(){return E=E||T.newInstance(),E}function j(e,{duration:t=3,type:o=""}){Ie().add({content:e,duration:t,type:o})}const z={info(e,t){return j(e,{...t})},error(e,t){return j(e,{...t,type:"error"})}};const Le={name:"Demo",props:{customClass:String,sourceCode:String},setup(e){const{copy:t}=Be(),o=U(),n=ce(),r=l(!1),a=l(!1),s=l(!1),g=l(null),y=l(null),b=l(null),f=l(null),S=l(null);L(s,c=>{if(b.value.style.height=c?`${Y.value+1}px`:"0",!c){a.value=!1,f.value.style.left="0",f.value.style.width="auto",P();return}setTimeout(()=>{window.addEventListener("scroll",C),window.addEventListener("resize",C),H()},300)}),G(()=>{le(()=>{y.value||(g.value.style.width="100%")})}),ie(()=>{P()});const H=()=>{const{top:c,bottom:Z,left:ee}=b.value.getBoundingClientRect(),I=window.innerHeight||document.body.clientHeight;a.value=Z>I&&c+44<=I,f.value.style.left=a.value?`${ee}px`:"0";const te=a.value?1:2;f.value.style.width=`${S.value.offsetWidth-te}px`},C=De(H,200),P=()=>{window.removeEventListener("scroll",C),window.removeEventListener("resize",C)};L(()=>n.path,c=>{k.value=c.split("/")});const k=l(n.path.split("/")),X=_(()=>k.value[k.value.length-1].split(".")[0]),q=_(()=>`demo-${X.value}`);de({});const J=()=>{},K=()=>{s.value=!s.value,r.value=s.value},v=_(()=>{var c;return((c=o.theme.value.demoblock)==null?void 0:c[o.localePath.value])??{"hide-text":"隐藏代码","show-text":"显示代码","copy-button-text":"复制代码片段","copy-success-text":"复制成功"}}),Q=_(()=>s.value?v.value["hide-text"]:v.value["show-text"]),Y=_(()=>y.value?y.value.clientHeight+g.value.clientHeight+20:g.value.clientHeight);return{blockClass:q,hover:r,fixedControl:a,isExpanded:s,locale:v,controlText:Q,onClickControl:K,highlight:g,description:y,meta:b,control:f,onCopy:async()=>{try{t(e.sourceCode),z.info(v.value["copy-success-text"])}catch{z.error(v.value["copy-success-text"])}},goCodepen:J,demoBlock:S}}},Me={class:"source"},Fe={ref:"meta",class:"meta"},Ve={key:0,ref:"description",class:"description"},je={ref:"highlight",class:"highlight"},ze={class:"control-button-wrap"};function Ne(e,t,o,n,r,a){return d(),m("div",{ref:"demoBlock",class:u(["demo-block",n.blockClass,o.customClass?o.customClass:"",{hover:n.hover}]),onMouseenter:t[2]||(t[2]=s=>n.hover=!0),onMouseleave:t[3]||(t[3]=s=>n.hover=!1)},[i("div",Me,[h(e.$slots,"default",{},void 0,!0)]),i("div",Fe,[e.$slots.description?(d(),m("div",Ve,[h(e.$slots,"description",{},void 0,!0)],512)):ue("",!0),i("div",je,[h(e.$slots,"highlight",{},void 0,!0)],512)],512),i("div",{ref:"control",class:u(["demo-block-control",{"is-fixed":n.fixedControl,"is-expanded":n.isExpanded}]),onClick:t[1]||(t[1]=(...s)=>n.onClickControl&&n.onClickControl(...s))},[$(A,{name:"arrow-slide"},{default:w(()=>[i("i",{class:u(["control-icon",{"icon-caret-down":!n.isExpanded,"icon-caret-up":n.isExpanded,hovering:n.hover}])},null,2)]),_:1}),$(A,{name:"text-slide"},{default:w(()=>[M(i("span",{class:"control-text"},B(n.controlText),513),[[F,n.hover]])]),_:1}),i("div",ze,[$(A,{name:"text-slide"},{default:w(()=>[M(i("span",{class:"control-button copy-button",onClick:t[0]||(t[0]=pe((...s)=>n.onCopy&&n.onCopy(...s),["stop"]))},B(n.locale&&n.locale["copy-button-text"]),513),[[F,n.isExpanded]])]),_:1})])],2)],34)}const Oe=x(Le,[["render",Ne],["__scopeId","data-v-b8649709"]]);const Ue=R({name:"DemoBlock",props:{customClass:String}}),Ge={class:"source"};function We(e,t,o,n,r,a){return d(),m("div",{class:u(["demo-block",[e.customClass?e.customClass:""]])},[i("div",Ge,[h(e.$slots,"default",{},void 0,!0)])],2)}const Xe=x(Ue,[["render",We],["__scopeId","data-v-d3a119a6"]]);function qe(e){e.component("Demo",Oe),e.component("DemoBlock",Xe)}const Je={name:"XlButton",props:{type:{type:String,default:"default"}}};function Ke(e,t,o,n,r,a){return d(),m("button",{class:u(["xl-button",o.type?"xl-button--"+o.type:""])},[h(e.$slots,"default")],2)}const N=x(Je,[["render",Ke]]);const Qe={...V,enhanceApp(e){V.enhanceApp(e),qe(e.app),e.app.component(N.name,N)}};function W(e){if(e.extends){const t=W(e.extends);return{...t,...e,async enhanceApp(o){t.enhanceApp&&await t.enhanceApp(o),e.enhanceApp&&await e.enhanceApp(o)}}}return e}const p=W(Qe),Ye=R({name:"VitePressApp",setup(){const{site:e}=U();return G(()=>{fe(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),ve(),_e(),he(),p.setup&&p.setup(),()=>O(p.Layout)}});async function Ze(){const e=tt(),t=et();t.provide(ge,e);const o=ye(e.route);return t.provide(Ce,o),t.component("Content",we),t.component("ClientOnly",xe),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),p.enhanceApp&&await p.enhanceApp({app:t,router:e,siteData:be}),{app:t,router:e,data:o}}function et(){return ke(Ye)}function tt(){let e=D,t;return $e(o=>{let n=Ae(o);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),D&&(e=!1),Ee(()=>import(n),[])},p.NotFound)}D&&Ze().then(({app:e,router:t,data:o})=>{t.go().then(()=>{me(t.route,o.site),e.mount("#app")})});export{Ze as createApp};
